7/8
 
スキルチェック  
Bランク　1問  
 
-------------------------------------------
🐿️🌰🌳  
・🐿️が🌰をたくさんの🌳の下に隠していた  
・季節が変わったので、掘り起こそうとしている  
・森の縦横が与えられる  
・掘る🌳の数が与えられる  
・各🌳の🌰が与えられる  
・上下左右のいずれの方向に、掘る🌳の数の分、🌰の合計値の最大値を出力  
 
-------------------------------------------
 
```ruby
height,width = gets.split.map(&:to_i)                 # 森の縦横を取得
dug = gets.to_i                                       # 掘る🌳の数を取得
trees = height.times.map{gets.split.map(&:to_i)}      # 各🌳の🌰を取得
max = 0                                               # 最大値を記録

trees.each_with_index do |h,x|                        # 森の🌳を1本ずつ確認していく
  h.each_with_index do |w,y|
    right = []                                        # 右方向の合計を記録
    (y...y+dug).each do |py|                          # 現在地〜右方向の掘る🌳の数まで🌰を合計
      right << trees[x][py] if y+dug <= width
      max = [right.sum,max].max if right.size == dug  # 最大値を超えた場合上書きする
    end

    left = []                                         # 左方向の合計を記録
    (y-dug+1..y).each do |my|                         # 現在地〜左方向の掘る🌳の数まで🌰を合計
      left << trees[x][my] if y-dug+1 >=0
      max = [left.sum,max].max if left.size == dug
    end

    down = []                                         # 下方向の合計を記録
    (x...x+dug).each do |px|                          # 現在地〜下方向の掘る🌳の数まで🌰を合計
      down << trees[px][y] if x+dug <= height
      max = [down.sum,max].max if down.size == dug
    end

    top = []                                          # 上方向の合計を記録
    (x-dug+1..x).each do |mx|                         # 現在地〜上方向の掘る🌳の数まで🌰を合計
      top << trees[mx][y] if x-dug+1 >=0
      max = [top.sum,max].max if top.size == dug
    end
  end
end

puts max                                              # 🌰の最大値を出力
```
