7/19

スキルチェック
Bランク　1問

-------------------------------------------
花を並び替える  
・色数が与えられる  
・同じ色が2本ずつ存在する複数色の花が1列に並んでいる  
・隣り合う2本を交換する操作のみで並び替えしかできない  
・目標例：3色ある場合、[1,2,3,1,2,3]のように並んでる  
・必要な最小交換回数を出力  
  
-------------------------------------------

```ruby
kinds = gets.to_i                                # 色の数を取得
all = readlines.map(&:to_i)                      # 現在の花の並びを取得

goal = (1..kinds).to_a * (all.size / kinds)      # 目標の並びを作成

g_label = []                                     # 目標の並びに出現順でラベルをつけて同一色の区別を付ける
count = Hash.new(0)
goal.each do |color|
  count[color] += 1
  g_label << [color,count[color]]
end

a_label = []                                      # 現在の並びも同様にラベルを付けて識別
a_count = Hash.new(0)
all.each do |color|
  a_count[color] += 1
  a_label << [color,a_count[color]]
end

positions = a_label.map{|x| g_label.index(x)}     # 目標の並びに対し、現在の並びの各要素が何番目に出てくるかを取得

count = 0                                         # ここからsort回数を数えるだけ
positions.each_with_index do |x,idx|
  positions[idx+1..].each do |y|                  # [idx+1〜末尾要素まで]処理を行う
    count +=1 if x > y 
  end
end

puts count                                        # 最小交換回数
