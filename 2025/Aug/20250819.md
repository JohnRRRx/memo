8/19
 
スキルチェック  
ランク　1問  
 
-------------------------------------------
弾けるか🎵  
・パイプオルガンの譜面が与えられる  
・譜面にある小節数が与えられる  
・小節ごとに鍵盤の押す場所が書かれてる  
・鍵盤が4つあり、下記の表の通り配置とルールがある  
・一人では弾けない小節があれば、その番号を出力  

<table>
  <tr>
    <th colspan="2">keyboard</th>
  </tr>
  <tr>
    <td>La1️⃣2️⃣3️⃣4️⃣5️⃣6️⃣</td>
    <td>Ra1️⃣2️⃣3️⃣4️⃣5️⃣6️⃣</td>
  </tr>
  <tr>
    <td>Lb1️⃣2️⃣3️⃣4️⃣5️⃣6️⃣</td>
    <td>Rb1️⃣2️⃣3️⃣4️⃣5️⃣6️⃣</td>
  </tr>
</table>

| rule | can？ |
|:-----------:|:------------:|
| 片手で上下の鍵盤、もしくは左右の鍵盤を同時に押せない | ❌ |
| 片手で同じ鍵盤の両端は押せない(例:Laの1️⃣と6️⃣) | ❌ |
| 両手ならどちらかの状況が解消可能 | 🟢 |


 
-------------------------------------------
 
```ruby
amounts = gets.to_i                                             # 小節数を取得
bars = amounts.times.map{gets.chomp}                            # 各小節を取得

cant = []                                                       # 一人で弾けない小節番号を記録用
bars.each_with_index do |bar,idx|                               # 各小節を確認していく
  idx += 1                                                      # index番号を小節番号に変更

  check_no1 = ["La","Lb","Ra","Rb"]                             # ルール1の確認(緩和条件を含め)
  bools_no1 = check_no1.map{|keyword| bar.include?(keyword)}
  cant << idx if bools_no1.count(true) >= 3                     # 1人で3つ以上の鍵盤を押す小節があれば、弾けないと番号を記録

  check_no2 = [["La_1","La_6"],                                 # ルール2の確認(緩和条件を含め)
               ["Lb_1","Lb_6"],
               ["Ra_1","Ra_6"],
               ["Rb_1","Rb_6"]]
  bools_no2 = check_no2.map do |pair|
    pair.all?{|keyword|bar.include?(keyword)}                   # 同じ鍵盤の両端を押す小節を判定
  end

cant << idx if bools_no2.include?(true) &&                      # もし同じ鍵盤の両端を押す小節に
               bools_no1.count(true) > 1                        # 片手しかない場合、弾けないと番号を記録
end

puts cant.uniq                                                  # 一人で弾けない小節番号を出力
```

### 補足  

#### all?  

| 役割 | 動き |
|------|------|
| 配列のすべての要素が条件を満たすか調べる | 1つでも条件を満たさないと `false` |
```ruby
例:
[1,2,3].all? { |n| n > 0 }  # => true
[1,2,3].all? { |n| n > 2 }  # => false
```

##### map

| 役割 | 動き |
|------|------|
| 各要素にブロックを適用し、新しい配列を作る | 元の配列は変化しない |
```ruby
例:
[1,2,3].map { |n| n * 2 } # => [2,4,6]
```
