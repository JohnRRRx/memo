8/27
  
スキルチェック  
Bランク　1問  
  
-------------------------------------------
  
・政党数と議席数が与えられる  
・各政党の得票数が与えられる   
・各政党の得票数を1〜議席数で割って比較していく  
```
  例：得票2100の場合 [2100÷1, 2100÷2, 2100÷3, ...] = [2100, 1050, 700, ...]  
```
・下記ルールで議席数を分配  
・各政党が取得した議席数を順番に出力  
  
| No. | rules |
|:-----------:|:------------:|
| 1. | 各政党の投票数を議席数で割った結果の多い〜少ない順に上位から席を分配 |
| 2. | 複数の政党が同じ値を持っている場合、既に取得した議席数が多い政党が優先的に議席数を取得 |
  
-------------------------------------------
  
```ruby
parties, seats = gets.split.map(&:to_i)                       # 政党数と議席数を取得
votes = parties.times.map { gets.to_i }                       # 各政党の得票数を取得

all = {}                                                      # 各政党の得票数を議席数で割った結果」を記録するHash
votes.each_with_index do |vote, idx|                          # 各政党の得票数を計算していく
  party_id = idx + 1                                          # 政党idは1から始まるのでindex+1で変換
  all[party_id] = (1..seats).map { |divisor| vote / divisor } # 各政党の得票数を1で割る、2で割る、3で割る...議席数まで計算
end

all_values = all.values.flatten.sort.reverse                  # 全政党の計算結果をまとめ、大きい順に並べる
top_values = all_values[0, seats]                             # 上位の議席数分だけを抽出

result = Hash.new(0)                                          # 各政党が取得した議席数をカウントするHash（0で初期化）

top_values.each do |value|                                    # 上位の値を1つずつ処理して、議席を配分していく
  candidates = []                                             # 席を取得する候補政党を記録用
  all.each do |party_id, values|                              # 現在処理中の値を持ってる政党を探す
    candidates << party_id if values.include?(value)          # 該当政党の計算結果にこの値が含まれてる場合、候補に記録
  end

  winner = candidates.max_by { |party_id| result[party_id] }  # No2のルール適用で、複数の政党が同じ値を持ってる場合、現時点で所持の議席数が多い政党が勝ち
  result[winner] += 1                                         # 勝った政党の議席数+1
  all[winner].delete_at(all[winner].index(value))             # 同じ値で複数回議席をもらわないように、勝った政党の計算結果から削除
end

(1..parties).each { |i| puts result[i] }                      # 政党1〜取得した議席数を出力
```
