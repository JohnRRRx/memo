8/23
  
スキルチェック  
Bランク　1問  
  
-------------------------------------------
投稿検索  
・id数、キーワード数が与えられる  
・文字数、投稿内容、日付が与えられる  
・キーワードが与えられる    
・キーワードが含まれてる投稿を  
    ①  日付古→新順に並び替える  
    ②  日付が同じ場合id番号小→大順に並び替えた後出力  
・該当する投稿がない場合"None"と出力  
  
-------------------------------------------
  
```ruby
ids,key_amounts = gets.split.map(&:to_i)                  # id数、キーワード数を取得
details = {}                                              # 詳細情報をHash化用
ids.times do |idx|                                        # id数の分、詳細を取得
  len, contents = gets.split.map(&:chomp)                 # 文字数、投稿内容を取得
  date = gets.split.map(&:to_i)                           # 日付を取得
  details[contents] = date                                # 文字全体と日付でHash化
end

keywords = key_amounts.times.map{gets.split(" ")}         # キーワードを取得
hits = []                                                 # キーワード含まれてる投稿を記録
details.each_with_index do |x,idx|                        # 詳細情報を確認していく
  idx += 1                                                # index番号をid番号に変更
  cont = x[0]                                             # 投稿内容を定義
  date = x[1]                                             # 日付を定義
  keywords.each do |no,kw|                                # キーワードを確認していく
    hits << [idx,cont,[date]] if cont.include?(kw)        # 含まれてる場合、その投稿を記録
  end
end
hits = hits.uniq.sort_by{|idx,cont,date| [date, idx]}     # uniqで同じ投稿に複数のキーワードが入ってる可能性を排除
                                                          # sort_byで複数条件(日付 → id番号)で並び替える

puts "None" if hits.empty?                                # 該当する投稿がない場合、Noneと出力
hits.each{|x| p x[0]}                                     # あれば投稿のid番号を順番に出力
```

***
 
### 補足  

##### sort_by
| 対象           | 役割                                         |
|----------------|--------------------------------------------------|
| 配列 / 多重配列 | 単一条件〜複数条件（辞書順に並び替える） |

```ruby
例:

posts = [
  [4, [2016, 9, 18]],
  [1, [2016, 9, 18]],
  [3, [2016, 9, 17]]
]

sorted = posts.sort_by { |id, date| [date, id] }
# 日付 → id の順に並び替え

p sorted.map { |id, date| id }
# => [3, 1, 4]
```
