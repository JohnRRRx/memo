8/21
 
スキルチェック  
Bランク　1問  
 
-------------------------------------------
Last Call  
・bingoゲームのcardの長さ、番号発表の回数が与えられる  
・自分のcardの各枠にある番号が与えられる  
・現時点まで発表された番号が与えられる  
・ゲーム最後の番号発表は自分がする  
・自分が達成できる最大bingo数を出力  
   
-------------------------------------------
 
```ruby
len,times = gets.split.map(&:to_i)                                       # cardの長さ、番号発表の回数を取得
card = len.times.map{gets.split.map(&:to_i)}                             # 各枠の番号を取得
said = (times - 1).times.map{gets.to_i}                                  # 発表済番号を取得
bingo = Hash.new(0)                                                      # bingo済本数、リーチ番号のbingo達成本数を記録用

def check(arr,length,hash)                                               # bingo済本数、リーチ番号のbingo達成本数を判定する関数
  if arr.count("x") == length - 1                                        # リーチの場合
    last = arr.find{|n| n != "x"}
    hash[last] += 1                                                      # リーチ番号のbingo達成本数+1
  end
  hash["bingo"] +=1 if arr.count("x") == length                          # 発表済の番号でbingo済の場合、bingo済本数+1
end

card.each_with_index do |h, x|
  h.each_with_index do |w, y|
    card[x][y] = "x"  if said.flatten.include?(w)                        # 発表済のところをxに変更
  end
check(h,len,bingo)                                                       # 横bingoの判定と記録
end

card.transpose.each{|arr| check(arr,len,bingo)}                          # 縦bingoの判定と記録

ltrd = (0...len).map {|n| card[n][n] }                                   # 斜め↘bingoの判定と記録
check(ltrd,len,bingo)

ldrt = []                                                                # 斜め↗︎bingoの判定と記録
(0...len).to_a.reverse.each_with_index {|n,idx| ldrt << card[n][idx]}
check(ldrt,len,bingo)

line = bingo.delete("bingo") || 0                                        # bingo済本数を定義 (関数で判定した際にbingo済本数がない場合、bingo自体は作成されずnilになるため、0を代入)
max = bingo.values.max || 0                                              # リーチ番号のbingo達成本数を定義 (同じく、ない場合は作成されずnilになるため、0を代入)
puts line + max                                                          # 自分が達成できる最大bingo数を出力
```
