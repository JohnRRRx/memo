7/18
 
スキルチェック  
Bランク　1問  
 
-------------------------------------------
人員募集  
・地図の縦横幅が与えられる
・現在地座標が与えられる  
・各地の混雑状況が下記文字のように与えられる  
・現在地より東西南北4方向に人混みを集計  
・人数が一番多い方向と合計人数を出力  
・人数が一番多い複数ある場合、下記の通り北〜西の順に、1つのみ出力    
 
| char | mean |
|:-----------:|:------------:|
| N | 北 |
| E | 東 |
| S | 南 |
| W | 西 |
| # | 人いない |
| 1~の数字 | 人数 |
 
-------------------------------------------
 
```ruby
height,width = gets.split.map(&:to_i)                   # 地図の縦横幅を取得
y,x = gets.split.map(&:to_i)                            # 現在地座標を取得
map = height.times.map{gets.chomp.chars}                # 各地の混雑状況を取得
set = Hash.new(0)                                       # 方位別で人数を記録用
trans = map.transpose                                   # 地図を縦に変換


(0...y-1).each do |idx|                                 # 現在地〜北の人数を集計
  map[idx].each do |c|
    set["N"] += c.to_i if c.=~ /\d/                     # 数字を判別し、その方向と人数をHash化
  end
end

(x...width).each do |idx|                               # 現在地〜東の人数を集計
  trans[idx].each do |c|
    set["E"] += c.to_i if c.=~ /\d/
  end
end

(y...height).each do |idx|                              # 現在地〜南の人数を集計
  map[idx].each do |c|
    set["S"] += c.to_i if c.=~ /\d/
  end
end

(0...x-1).each do |idx|                                 # 現在地〜西の人数を集計
  trans[idx].each do |c|
    set["W"] += c.to_i if c.=~ /\d/
  end
end

max = set.values.max                                    # 最大人数を定義
turns = ["N", "E", "S", "W"]                            # 複数方向が同じ値の場合の出力順番

only = turns.find{|dir| set[dir] == max}                # 当てはまる1方向だけ取得
puts "#{only} #{max}"                                   # 最終結果を出力
```


##### find

```
・eachと似たような感じで、1つずつ確認していく
・ただ、条件に当てはまる1つ目見つけたら、処理終了
```

##### =~

```
・文字列が正規表現にマッチするか調べる
・マッチすれば最初の位置（index）を返す
・マッチしなければ nil を返す
・if 文などで「含まれているか」の判定に使える
```
